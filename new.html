<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
<head>

  <title>DogeBell</title>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#1e130c">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
  <link rel="apple-touch-icon-precomposed" href="152.png">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CPMKD94RX9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-CPMKD94RX9');
  </script>

  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script src="https://www.google.com/recaptcha/api.js?render=6Lez1d8aAAAAAKJ7FAhqHk-SkiR2MIrzh0f4Mngv"></script>
  
  <script type="text/javascript">

    var TOTALDOGE = 1
    var CURRENCY = "USD";
    var UNIT = "$";
    var DOGEPRICE = 0
    var DOGEPRICEFORUSD = 0
    var CURRENTLIST = ["USD","EUR","GBP","KRW","CNY","JPY"]
    var CURRENCYUNIT = ["$","€","£","₩","¥","¥"]
    var MARGINLIST = [-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10]
    var MARGIN = 0;

    //https://api.coingecko.com/api/v3/simple/supported_vs_currencies

    setInterval(function() {
      updateDogePrice();
    }, 30000);

    $(document).ready(function(){

      $(CURRENTLIST).each(function(i,item){
        $("#selectList").append(new Option(CURRENTLIST[i], CURRENTLIST[i]));
      });

      $(MARGINLIST).each(function(i,item){
        $("#fiatSelect").append(new Option(MARGINLIST[i]+"%", MARGINLIST[i]));
      });

      $("#fiatSelect").val(0);

      if(getParameterByName("TOTALDOGE")){
        TOTALDOGE = getParameterByName("TOTALDOGE")
      }

      if(getParameterByName("MARGIN")){
        MARGIN = getParameterByName("MARGIN")
        $("#fiatSelect").val(MARGIN)
      }
      
      if(getParameterByName("CURRENCY")){
        CURRENCY = getParameterByName("CURRENCY")
        $("#selectList").val(CURRENCY)
      }

      UNIT = CURRENCYUNIT[$("#selectList").prop('selectedIndex')]
      
      getDogePrice();
      updateDogePrice();
      radomUpdateDogePrice();

      $("#selectList").change( function() {
        changeDoge();
      });

      $("#fiatSelect").change( function() {
        MARGIN = $("#fiatSelect").val()
        location.href = window.location.href.split('?')[0] + "?TOTALDOGE="+TOTALDOGE +"&CURRENCY=" + CURRENCY +"&MARGIN=" + MARGIN
      });

    });

    function changeDoge(){

      var promptForDoge = prompt("How much Dogecoin?", TOTALDOGE);

      if ( promptForDoge == null ||  promptForDoge == "") {
        //TOTALDOGE = parseInt(promptForDoge);
        CURRENCY = $("#selectList").val()
        location.href = window.location.href.split('?')[0] + "?TOTALDOGE="+TOTALDOGE +"&CURRENCY=" + CURRENCY +"&MARGIN=" + MARGIN
      } else {
        TOTALDOGE = parseInt(promptForDoge);
        CURRENCY = $("#selectList").val()
        location.href = window.location.href.split('?')[0] + "?TOTALDOGE="+TOTALDOGE +"&CURRENCY=" + CURRENCY +"&MARGIN=" + MARGIN
      }
    }
    
    function changeFiat(){
      $("#fiatSelect").focus();
    }

    function getDogePrice(){

      $.get( "https://api.coingecko.com/api/v3/simple/price?ids=dogecoin&vs_currencies=USD", function( data ) {
      
        var firstItem = data[Object.keys(data)[0]];
        firstItem = firstItem[Object.keys(firstItem)[0]]
        //alert(firstItem)
        DOGEPRICEFORUSD = firstItem
      });

      if (MARGIN != 0) {
        DOGEPRICEFORUSD = DOGEPRICEFORUSD + (DOGEPRICEFORUSD * (MARGIN / 100))
      }

    }

    function updateDogePrice(){

      $.get( "https://api.coingecko.com/api/v3/simple/price?ids=dogecoin&vs_currencies="+CURRENCY, function( data ) {

        var firstItem = data[Object.keys(data)[0]];
        firstItem = firstItem[Object.keys(firstItem)[0]]
        //(firstItem)
        DOGEPRICE = firstItem

        if (MARGIN != 0) {
          DOGEPRICE = DOGEPRICE + (DOGEPRICE * (MARGIN / 100))
        }


        $( "#dogeCount" ).html(TOTALDOGE);
        $( "#unit" ).html(UNIT);

        if(CURRENCY == "KRW" || CURRENCY == "JPY"){
          $( "#dogePrice" ).html((TOTALDOGE * DOGEPRICE).toFixed(0));
        }
        else if(CURRENCY == "CNY"){
          $( "#dogePrice" ).html((TOTALDOGE * DOGEPRICE).toFixed(2));
        }else{
          $( "#dogePrice" ).html((TOTALDOGE * DOGEPRICE).toFixed(4));
        }
      });

    }

    function radomUpdateDogePrice() {

      setInterval(function() {


        if (DOGEPRICEFORUSD == 0){
          return
        }

      //console.log(MOONCOST);

      if(CURRENCY == "KRW"){
        var randomValue = Math.random() * 1
          //console.log(randomValue)

          dogeRandomPrice = DOGEPRICE + randomValue

          if(MOONCOST > 0){
            dogeRandomPrice = (DOGEPRICE * MOONCOST) / DOGEPRICEFORUSD
          }

          $( "#dogeCount" ).html(TOTALDOGE);
          $( "#unit" ).html(UNIT);

          $( "#dogePrice" ).html((TOTALDOGE * dogeRandomPrice).toFixed(0));

        }
        else if(CURRENCY == "JPY"){
          var randomValue = Math.random() * 1
          //console.log(randomValue)

          dogeRandomPrice = DOGEPRICE + randomValue

          if(MOONCOST > 0){
            dogeRandomPrice = (DOGEPRICE * MOONCOST) / DOGEPRICEFORUSD
          }
          $( "#dogeCount" ).html(TOTALDOGE);
          $( "#unit" ).html(UNIT);

          $( "#dogePrice" ).html((TOTALDOGE * dogeRandomPrice).toFixed(0));
        }
        else if(CURRENCY == "CNY"){
          var randomValue = Math.random() * 0.1
        //console.log(randomValue)
        dogeRandomPrice = DOGEPRICE + randomValue

        if(MOONCOST > 0){
            dogeRandomPrice = (DOGEPRICE * MOONCOST) / DOGEPRICEFORUSD
        }
        $( "#dogeCount" ).html(TOTALDOGE);
        $( "#unit" ).html(UNIT);

        $( "#dogePrice" ).html((TOTALDOGE * dogeRandomPrice).toFixed(2));
      }else{
        var randomValue = Math.random() * 0.001

        dogeRandomPrice = DOGEPRICE + randomValue

        if(MOONCOST > 0){
            dogeRandomPrice = (DOGEPRICE * MOONCOST) / DOGEPRICEFORUSD
        }

        $( "#dogeCount" ).html(TOTALDOGE);
        $( "#unit" ).html(UNIT);

        $( "#dogePrice" ).html((TOTALDOGE * dogeRandomPrice).toFixed(4));
      }
    }, 300);
    }

    function getParameterByName(name, url = window.location.href) {
      name = name.replace(/[\[\]]/g, '\\$&');
      var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
      results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    var MOONCOST = 0;

    function toTheMoon(){

      $("#moonPic").fadeIn();

      MOONCOST = DOGEPRICEFORUSD + (MOONCOST  * 0.1);

      if (MOONCOST >1){
        MOONCOST = 1
      }

      setTimeout(function(){
        $("#moonPic").fadeOut()
        MOONCOST = 0;
        getDogePrice();
        updateDogePrice();
      },5000);
    }



//page init
document.addEventListener('init', function(event) {
 console.log('This is a lifecycle event!', event.target);

var page = event.target.id
if(page == "home"){
  //showToast(page)

  drawChart()
}

});
//page change
document.addEventListener('prechange', function(event) {


  page = event.tabItem.getAttribute('label');
  //showToast(page)

});


function showToast(message){
    ons.notification.toast(message, { timeout: 1000, animation: 'fall' })
}

  </script>

  <link rel="stylesheet" href="/assets/css/dojichart.css"/>
  <style>

    .box {
      width: 360px;
      border: 6px solid #ddd;
      border-radius: 6px;
    }

    .moonButton {
      background-color: #f8f9fa;
      border: 1px solid #f8f9fa;
      border-radius: 4px;
      color: #3c4043;
      font-family: 'Apple SD Gothic Neo',arial,sans-serif;
      font-size: 14px;
      margin: 11px 4px;
      padding: 0 16px;
      line-height: 27px;
      height: 36px;
      min-width: 54px;
      text-align: center;
      cursor: pointer;
      user-select: none;
    }

    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: #ffffff;
      background-image: url("");
      background-repeat: no-repeat;
      background-size: cover;
      background-position: 50% 50%;
      z-index: -1000
    }

    body {margin:0;padding:0;}
    /* where margin-left = {img width}/2, and margin-top= {img height}/2 */
    .bigdiv {
     width:100%;
     height:auto;
     position:absolute;
     z-index: 99999;
     //max-width: 500px;
   }
   .bigdiv img {
    //position:absolute;
    width: 100%;
    height: auto;
    max-width: 500px;
    z-index: 99999;
  }

</style>


<style>

body {
  background-color: #A9A9A9;
}  
.page {
max-width: 500px;
margin:0 auto;
}

.dialog{
    width: auto;
    max-width: 90%;
}

.dialog {//min-height:350px;}
#iput-dialog {min-height:200px;}
#inform-dialog {min-height:100px;}

ons-input, ons-radio, ons-checkbox, ons-search-input {
    display: block;
}

.page__background {
  background-color: #FFFFFF;

}

.speed-dial.fab--bottom__right, button.fab--bottom__right, ons-fab.fab--bottom__right {
  bottom: 60px;
}

</style>
<style>
.footer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  background-color: #A9A9A9;
  text-align: center;
}

.footer_div {
  max-width: 500px;
  background-color: #ffffff;
  padding-top: :10px;
  padding-bottom: 10px;
}

</style>

<script type="text/javascript" src="/assets/js/dojichart.js"></script>

</head>
<body>

<ons-page>  


<!-- 
<ons-speed-dial position="bottom right" direction="up" cancelable>
    <ons-fab>
      <ons-icon icon="md-menu"></ons-icon>
    </ons-fab>
    <ons-speed-dial-item>
      <ons-icon icon="fa-balance-scale"></ons-icon>
    </ons-speed-dial-item>
    <ons-speed-dial-item>
      <ons-icon icon="fa-wallet"></ons-icon>
    </ons-speed-dial-item>
  </ons-speed-dial> -->

  <ons-tabbar swipeable position="auto">
    <ons-tab page="home.html" label="Home" icon="fa-home" active>
    </ons-tab>
    <ons-tab page="wallet.html" label="Wallet" icon="fa-wallet">
    </ons-tab>
    <ons-tab page="trade.html" label="Trade" icon="fa-balance-scale">
    </ons-tab>
    <ons-tab page="chain.html" label="BlockChain" icon="fa-dice-d20">
    </ons-tab>
    <ons-tab page="mine.html" label="Mining" icon="fa-mountain">
    </ons-tab>
    
  </ons-tabbar>
<!-- 
    <center>
    <div class="footer">
      <center>
    <div class="footer_div">
    <span class="site-footer-credits">© 2021 <a href="https://dogebell.com">DogeBell.com</a> ALL RIGHTS RESERVED.</span>

    <div>
      <span style="">Buy & Sell : </span>
      <a href="https://dogechain.info/address/DN7WNoyLx6DRoQpuzpcLhV95vLARFdbZ9A" target='_blank' >
        <img style="vertical-align:middle" src="/assets/img/dogeaccept.png" width="80px" height="auto">
      </a>
      <a href="https://www.paypal.me/dogebell" target='_blank'>
        <img style="vertical-align:middle" src="/assets/img/paypal.png" width="70px" height="auto">
      </a>
    </div>

    </div>
    </center>
    </div>

  </center>
 -->
</ons-page>

<template id="home.html">
  <ons-page id="home">

  <div id="moonPic" class="bigdiv" style="display: none">
    <center>
      <br><br><br><br>

      <img src="/assets/img/tothemoon.png" />
    </center>
  </div>

  <center>


    <div style="line-height:100%;">
     <br>
     <a href="/" >
       <img src="/assets/img/dogebell-title.png" width="70%" height="50%" style="max-width: 500px;">
     </a>

     <h3><a href="#" onclick="changeDoge(); return false;"> <span id="dogeCount">1</span> Dogecoin </a> = <a href="#" onclick="changeFiat(); return false;"><span id="unit">$</span> <span id="dogePrice"></span></a> </h3> 
     <br>

     <div class="custom-select">
       Currency : <select id="selectList">
       </select>
       &nbsp;&nbsp; Margin :
       <select id="fiatSelect">
       </select>
     </div>

     <br>

   </div>

   <div class="box">
    <div class="dojichart" id="my-dojichart">
      <div class="region" data-name="price"></div>
    </div>
  </div>

  <br>
  <input onClick="toTheMoon()" value="To The Moon!" aria-label="To The Moon!" name="btnK" type="button">


  </center>
  </ons-page>
</template>

<template id="wallet.html">
<ons-page>
  <ons-toolbar>
    <div class="center">Wallet</div>
  </ons-toolbar>

  <ons-card style="margin: 20px;">
    <center>
    <img src="http://img1.bizhows.com/bhfile01/__CM_FILE_DATA/201708/07/17/536998_1502092980542.png" alt="Onsen UI" style="width: 50%">
<br>
    <div class="title">
      Address : WWDASDW2311=
    </div>
<br>
      <div>
        <ons-button><ons-icon icon="fa-paper-plane"></ons-icon>&#x20;Send</ons-button>&#x20;
        <ons-button><ons-icon icon="fa-share-alt"></ons-icon>&#x20;Share</ons-button> 
      </div>
<br>      
    </center>
    <div class="content">
      <ons-list>
        <ons-list-header>Information</ons-list-header>
        <ons-list-item>Value : 20 DogeBell</ons-list-item>
        <ons-list-item>Transaction : 0</ons-list-item>
      </ons-list>
    </div>
  </ons-card>
</ons-page>
</template>

<template id="trade.html">
  <ons-page id="trade">
    <p style="text-align: center;">
      This is the trade page.
    </p>
  </ons-page>
</template>

<template id="chain.html">
  <ons-page id="chain">
    <p style="text-align: center;">
      This is the chain page.
    </p>
  </ons-page>
</template>

<template id="mine.html">
  <ons-page id="mine">
    <p style="text-align: center;">
      This is the mine page.


<form>
  <div><input type="submit" value="Mining"></div>
  <input type="hidden" id="g-recaptcha" name="g-recaptcha">
</form>

    </p>

<script type="text/javascript">
grecaptcha.ready(function() {
  grecaptcha.execute('6Lez1d8aAAAAAKJ7FAhqHk-SkiR2MIrzh0f4Mngv', {action: 'mining'}).then(function(token) {
    // 토큰을 받아다가 g-recaptcha 에다가 값을 넣어줍니다.
    document.getElementById('g-recaptcha').value = token;
  });
});
</script>



  </ons-page>
</template>
<!-- <ons-page>
  <ons-toolbar>
    <div class="center">Card</div>
  </ons-toolbar>

  <ons-card>
    <img src="https://monaca.io/img/logos/download_image_onsenui_01.png" alt="Onsen UI" style="width: 100%">
    <div class="title">
      Awesome framework
    </div>
    <div class="content">
      <div>
        <ons-button><ons-icon icon="ion-ios-thumbs-up"></ons-icon></ons-button>
        <ons-button><ons-icon icon="ion-ios-share"></ons-icon></ons-button>
      </div>
      <ons-list>
        <ons-list-header>Bindings</ons-list-header>
        <ons-list-item>Vue</ons-list-item>
        <ons-list-item>Angular</ons-list-item>
        <ons-list-item>React</ons-list-item>
      </ons-list>
    </div>
  </ons-card>
</ons-page> -->


<script type="text/javascript" src="/assets/js/dogedata.js"></script>
<script>
  function drawChart() {

/*
  Hello World
*/
var dojichart = new DojiChart.core.Chart(document.getElementById("my-dojichart"), {
  fieldMap: {
    time: "t",
    open: "o",
    high: "h",
    low: "l",
    close: "c",
  }
});

// Candlestick layer
var candle_layer = new DojiChart.layer.CandleLayer({
  bearBodyColor: "blue",
  bullBodyColor: "red",
});

// Price chart panel
var price_chart_panel = new DojiChart.panel.TimeValuePanel({
  primaryLayer: candle_layer,
  height: 250,
  grid: true,
  //paddingTop : 100
});

dojichart.addComponent("price", price_chart_panel);

// Dummy data
var data_arr2 = [
  {"t":"03:00","o":2.0664,"h":2.06646,"l":2.06625,"c":2.06646,"v":10000},
  {"t":"03:05","o":1.06645,"h":1.06661,"l":1.06637,"c":1.06658,"v":86},
  {"t":"03:10","o":1.06661,"h":1.06663,"l":1.06647,"c":1.06651,"v":79},
  {"t":"03:15","o":1.0665,"h":1.0665,"l":1.06639,"c":1.06641,"v":30},
  {"t":"03:20","o":1.06637,"h":1.06639,"l":1.06618,"c":1.06628,"v":71},
  {"t":"03:25","o":1.0663,"h":1.06635,"l":1.06591,"c":1.06635,"v":163},
  {"t":"03:30","o":1.06634,"h":1.0664,"l":1.06625,"c":1.06628,"v":123},
  {"t":"03:35","o":1.06629,"h":1.06636,"l":1.06607,"c":1.06617,"v":117},
  {"t":"03:40","o":1.06619,"h":1.06627,"l":1.06583,"c":1.06584,"v":234},
  {"t":"03:45","o":1.06584,"h":1.06601,"l":1.06581,"c":1.06584,"v":51},
  {"t":"03:50","o":1.06585,"h":1.06595,"l":1.06581,"c":1.06594,"v":60},
  {"t":"03:55","o":1.06595,"h":1.06598,"l":1.06588,"c":1.06595,"v":51},
  {"t":"04:00","o":1.06594,"h":1.06597,"l":1.06576,"c":1.06579,"v":92},
  {"t":"04:05","o":1.06577,"h":1.0659,"l":1.06575,"c":1.06581,"v":87},
  {"t":"04:10","o":1.06584,"h":1.06584,"l":1.06557,"c":1.06576,"v":106},
  {"t":"04:15","o":1.06576,"h":1.06594,"l":1.06571,"c":1.06582,"v":59},
  {"t":"04:20","o":1.06581,"h":1.06589,"l":1.06569,"c":1.06586,"v":83},
  {"t":"04:25","o":1.06585,"h":1.06589,"l":1.06577,"c":1.06588,"v":59},
  {"t":"04:30","o":1.0659,"h":1.06593,"l":1.06583,"c":1.06591,"v":38},
  {"t":"04:35","o":1.06592,"h":1.06612,"l":1.06591,"c":1.06602,"v":68},
  {"t":"04:40","o":1.066,"h":1.06624,"l":1.06598,"c":1.06601,"v":113},
  {"t":"04:45","o":1.06603,"h":1.0661,"l":1.06588,"c":1.06606,"v":141},
  {"t":"04:50","o":1.06607,"h":1.06623,"l":1.06607,"c":1.06616,"v":31},
  {"t":"04:55","o":1.06614,"h":1.06618,"l":1.06605,"c":1.06614,"v":49},
  {"t":"05:00","o":1.06613,"h":1.06613,"l":1.06576,"c":1.06593,"v":162},
  {"t":"05:05","o":1.0659,"h":1.06597,"l":1.06588,"c":1.06593,"v":52},
  {"t":"05:10","o":1.06595,"h":1.06602,"l":1.06578,"c":1.06578,"v":63},
  {"t":"05:15","o":1.0658,"h":1.06588,"l":1.06565,"c":1.06572,"v":70},
  {"t":"05:20","o":1.06573,"h":1.0659,"l":1.06566,"c":1.06587,"v":79},
  {"t":"05:25","o":1.06588,"h":1.06589,"l":1.0658,"c":1.0658,"v":37},
  {"t":"05:30","o":1.06583,"h":1.06598,"l":1.06583,"c":1.06595,"v":83},
  {"t":"05:35","o":1.06594,"h":1.06609,"l":1.06565,"c":1.06579,"v":93},
  {"t":"05:40","o":1.06578,"h":1.06587,"l":1.06556,"c":1.06566,"v":92},
  {"t":"05:45","o":1.06568,"h":1.06602,"l":1.06568,"c":1.06601,"v":48},
  {"t":"05:50","o":1.06602,"h":1.06651,"l":1.06599,"c":1.06642,"v":130},
  {"t":"05:55","o":1.06644,"h":1.06651,"l":1.06619,"c":1.06619,"v":161},
  {"t":"06:00","o":1.06617,"h":1.06629,"l":1.0661,"c":1.06618,"v":140},
  {"t":"06:05","o":1.06618,"h":1.06647,"l":1.06595,"c":1.06595,"v":172},
  {"t":"06:10","o":1.06593,"h":1.06599,"l":1.06569,"c":1.06577,"v":174},
  {"t":"06:15","o":1.06579,"h":1.06598,"l":1.06578,"c":1.06592,"v":62},
  {"t":"06:20","o":1.06593,"h":1.06644,"l":1.06591,"c":1.06601,"v":105},
  {"t":"06:25","o":1.06601,"h":1.06622,"l":1.0659,"c":1.06602,"v":170},
  {"t":"06:30","o":1.06605,"h":1.06645,"l":1.06605,"c":1.06632,"v":152},
  {"t":"06:35","o":1.06629,"h":1.06641,"l":1.06622,"c":1.06632,"v":91},
  {"t":"06:40","o":1.06634,"h":1.06641,"l":1.06621,"c":1.06621,"v":147},
  {"t":"06:45","o":1.0662,"h":1.06643,"l":1.0662,"c":1.0664,"v":94},
  {"t":"06:50","o":1.0662,"h":1.06673,"l":1.06638,"c":1.0667,"v":124}
];

function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

var dateList = [
// '1-4-2021',
// '2-4-2021',
// '3-4-2021',
// '4-4-2021',
// '5-4-2021',
// '6-4-2021',
// '7-4-2021',
// '8-4-2021',
// '9-4-2021',
// '10-4-2021',
// '11-4-2021',
// '12-4-2021',
// '13-4-2021',
// '14-4-2021',
// '15-4-2021',
// '15-4-2021',
// '16-4-2021',
// '17-4-2021',
// '18-4-2021',
// '19-4-2021',
// '20-4-2021',
// '21-4-2021',
// '22-4-2021',
// '23-4-2021',
// '24-4-2021',
// '25-4-2021',
// '26-4-2021',
// '27-4-2021',
// '28-4-2021',
// '29-4-2021',
// '30-4-2021',
'1-5-2021',
'2-5-2021',
'3-5-2021',
'4-5-2021',
'5-5-2021',
'6-5-2021',
'7-5-2021',
'8-5-2021',
'9-5-2021',
'10-5-2021',
'11-5-2021',
'12-5-2021',
'13-5-2021',
]

 var data_arr = []

$(document).ready(function(){


  // var i = 0;

  // setInterval(function() {
  //   //$(dateList).each(function(i,item){
      
  //     if (i > dateList.length){
  //       return;
  //     }
  //     var item = dateList[i];
      
  //     $.get( "https://api.coingecko.com/api/v3/coins/dogecoin/history?date="+item, function( data ) {
  //         var openPrice = data.market_data.current_price.usd 
  //         var highPrice = openPrice + (openPrice * 0.2)
  //         var lowPrice = openPrice - (openPrice * 0.2)
  //         var closePrice = openPrice + (openPrice * 0.1)
  //         // console.log(openPrice)
  //         // console.log(highPrice)
  //         // console.log(lowPrice)
  //         // console.log(closePrice)
  //         var appendItem = {"t":item,"o":openPrice,"h": highPrice ,"l":lowPrice,"c":closePrice,"v":100};
  //         data_arr.push(appendItem)

  //         dojichart.loadData(data_arr, "DOGE", "M5");
  //         console.log(data_arr);
  //     });
  //   //});
  //   i ++;

  // }, 1000);

  //dojichart.loadData(dogeData, "EURUSD", "M5");
});

// var data_arr = [
//   {"t":"1-4-2021","o":10,"h":30,"l":5,"c":15,"v":10},
//   {"t":"1-4-2021","o":10,"h":30,"l":5,"c":5,"v":10},
//   {"t":"1-4-2021","o":10,"h":30,"l":5,"c":15,"v":10},
// ]

// // Load data
 //dojichart.loadData(data_arr, "EURUSD", "M5");

setInterval(function() {


  if (DOGEPRICEFORUSD == 0){
    return
  }
  
  //data_arr = shuffle(data_arr);

  const rand1 = DOGEPRICEFORUSD
  const rand2 = rand1 + 0.03
  const rand3 = rand1 - 0.03;
  var rand4 = rand1 + Math.random() * 0.1;

  if (MOONCOST > 0){
    MOONCOST = MOONCOST * 1.1;
    
    //var maxCost = (DOGEPRICE / DOGEPRICEFORUSD)

    //console.log(maxCost);

    if(MOONCOST > 1){
      MOONCOST = 1
    }
    rand4 = MOONCOST;
  }

  //console.log(rand4 + "!!")

  dogeData.pop()
  
  var data = {"t":"14-5-2021","o":rand1,"h":rand2,"l":rand3,"c":rand4,"v":100}
  
  dogeData.push(data)
  
  dojichart.loadData(dogeData, "DOGE", "M5");
}, 300);

/* end of file */

}

</script>



</body>
</html>